{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useCart } from \"../context/CartContext\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var CheckoutScreen = function CheckoutScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useCart = useCart(),\n    cartItems = _useCart.cartItems,\n    getCartTotal = _useCart.getCartTotal,\n    clearCart = _useCart.clearCart,\n    placeOrder = _useCart.placeOrder;\n  var _useAuth = useAuth(),\n    user = _useAuth.user;\n  var handlePlaceOrder = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!user) {\n        Alert.alert('Error', 'Please login to place order');\n        return;\n      }\n      try {\n        var orderId = yield placeOrder(user);\n        Alert.alert('Order Placed', `Your order #${orderId} has been placed successfully!`, [{\n          text: 'OK',\n          onPress: function onPress() {\n            clearCart();\n            navigation.navigate('Menu');\n          }\n        }]);\n      } catch (error) {\n        Alert.alert('Error', 'Failed to place order. Please try again.');\n      }\n    });\n    return function handlePlaceOrder() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Order Summary\"\n    }), cartItems.map(function (item) {\n      return _jsxs(View, {\n        style: styles.orderItem,\n        children: [_jsx(Text, {\n          style: styles.itemName,\n          children: item.menuItem.name\n        }), _jsxs(Text, {\n          style: styles.itemDetails,\n          children: [\"R\", item.menuItem.price, \" x \", item.quantity, \" = R\", (item.menuItem.price * item.quantity).toFixed(2)]\n        })]\n      }, item.id);\n    }), _jsx(View, {\n      style: styles.totalContainer,\n      children: _jsxs(Text, {\n        style: styles.total,\n        children: [\"Total: R\", getCartTotal().toFixed(2)]\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.placeOrderButton,\n      onPress: handlePlaceOrder,\n      children: _jsx(Text, {\n        style: styles.placeOrderButtonText,\n        children: \"Place Order\"\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: 'white'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 30\n  },\n  orderItem: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingVertical: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  itemName: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  itemDetails: {\n    fontSize: 14,\n    color: '#666'\n  },\n  totalContainer: {\n    marginTop: 20,\n    paddingTop: 20,\n    borderTopWidth: 2,\n    borderTopColor: '#007bff'\n  },\n  total: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  placeOrderButton: {\n    backgroundColor: '#28a745',\n    padding: 15,\n    borderRadius: 8,\n    marginTop: 30\n  },\n  placeOrderButtonText: {\n    color: 'white',\n    textAlign: 'center',\n    fontSize: 16,\n    fontWeight: 'bold'\n  }\n});","map":{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","Alert","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","CheckoutScreen","_ref","navigation","_useCart","cartItems","getCartTotal","clearCart","placeOrder","_useAuth","user","handlePlaceOrder","_ref2","_asyncToGenerator","alert","orderId","text","onPress","navigate","error","apply","arguments","style","styles","container","children","title","map","item","orderItem","itemName","menuItem","name","itemDetails","price","quantity","toFixed","id","totalContainer","total","placeOrderButton","placeOrderButtonText","create","flex","padding","backgroundColor","fontSize","fontWeight","textAlign","marginBottom","flexDirection","justifyContent","paddingVertical","borderBottomWidth","borderBottomColor","color","marginTop","paddingTop","borderTopWidth","borderTopColor","borderRadius"],"sources":["C:/Users/tshia/Downloads/React Native Restaurant App/screens/CheckoutScreen.tsx"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet, Alert } from 'react-native';\nimport { useCart } from '../context/CartContext';\nimport { useAuth } from '../context/AuthContext';\n\nexport const CheckoutScreen: React.FC<{ navigation: any }> = ({ navigation }) => {\n  const { cartItems, getCartTotal, clearCart, placeOrder } = useCart();\n  const { user } = useAuth();\n\n  const handlePlaceOrder = async () => {\n    if (!user) {\n      Alert.alert('Error', 'Please login to place order');\n      return;\n    }\n\n    try {\n      const orderId = await placeOrder(user);\n      Alert.alert('Order Placed', `Your order #${orderId} has been placed successfully!`, [\n        { text: 'OK', onPress: () => {\n          clearCart();\n          navigation.navigate('Menu');\n        }}\n      ]);\n    } catch (error) {\n      Alert.alert('Error', 'Failed to place order. Please try again.');\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Order Summary</Text>\n      \n      {cartItems.map(item => (\n        <View key={item.id} style={styles.orderItem}>\n          <Text style={styles.itemName}>{item.menuItem.name}</Text>\n          <Text style={styles.itemDetails}>\n            R{item.menuItem.price} x {item.quantity} = R{(item.menuItem.price * item.quantity).toFixed(2)}\n          </Text>\n        </View>\n      ))}\n      \n      <View style={styles.totalContainer}>\n        <Text style={styles.total}>Total: R{getCartTotal().toFixed(2)}</Text>\n      </View>\n      \n      <TouchableOpacity style={styles.placeOrderButton} onPress={handlePlaceOrder}>\n        <Text style={styles.placeOrderButtonText}>Place Order</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 20, backgroundColor: 'white' },\n  title: { fontSize: 24, fontWeight: 'bold', textAlign: 'center', marginBottom: 30 },\n  orderItem: { flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 10, borderBottomWidth: 1, borderBottomColor: '#eee' },\n  itemName: { fontSize: 16, fontWeight: 'bold' },\n  itemDetails: { fontSize: 14, color: '#666' },\n  totalContainer: { marginTop: 20, paddingTop: 20, borderTopWidth: 2, borderTopColor: '#007bff' },\n  total: { fontSize: 20, fontWeight: 'bold', textAlign: 'center' },\n  placeOrderButton: { backgroundColor: '#28a745', padding: 15, borderRadius: 8, marginTop: 30 },\n  placeOrderButtonText: { color: 'white', textAlign: 'center', fontSize: 16, fontWeight: 'bold' }\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}